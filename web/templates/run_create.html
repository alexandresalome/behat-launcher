<h1>
    Create a run for project {{ project.name }}
</h1>
<hr />
 <form name="run" method="post" action="/project/{{ project.name }}/create-run">
    <div id="run">
        <div class="form-row">
            <div class="label">
                <label for="run_title">Title</label>
            </div>
            <div class="content">
                <input type="text" id="run_title" name="run[title]" />
            </div>
        </div>
        <div class="form-row">
            <div class="label">
                <label for="run_properties_Browser" class="required">Browser</label>
            </div>
            <div class="content">
                <select id="run_properties_Browser" name="run[properties][Browser]">
                    <option value="firefox">Mozilla Firefox</option>
                    <option value="chrome">Google Chrome</option>
                </select>
            </div>
        </div>
        <div ng-repeat="directory in [project.featureDirectory]" ng-include="feature_widget"></div>
    </div>
    <div>
        <button type="submit" id="run_submit" name="run[submit]">Create run</button>
    </div>
</form>
<script type="text/ng-template"  id="feature_widget">
    <div class="block-features" data-path="{{ directory.path }}">
        <div class="header">
            <label class="required">{{ directory.name }}/</label>
        </div>
        <div class="rows hidden">
            <div ng-switch on="entry.type" ng-repeat="entry in directory.entries" class="row">
                <p ng-switch-when="file"><input type="checkbox" name="{{ entry.}}" value="1" /><label for="run_features_history_diff_feature">diff.feature</label></p>
                <div ng-switch-when="directory" ng-include="'feature_widget'"></div>
            </div>
        </div>
    </div>
</script>
